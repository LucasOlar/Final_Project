#Checking if the package is installed on your PC. ELse installing it or you!!
packages <- c("readr", "jsonlite","tidyr","dplyr","DT","knitr","ggplot2","ggpubr","lubridate","plotly")
for (i in packages){
if( i %in% rownames(installed.packages()) == FALSE)
{install.packages(i)
}
}
#Loading the required packages
library(readr)
library(jsonlite)
library(tidyr)
library(dplyr)
library(DT)
library(knitr)
library(ggplot2)
library(ggpubr)
library(lubridate)
library(plotly)
library(kableExtra)
#URL to read the data from
url <- "https://raw.githubusercontent.com/rengalv/Movies-Data-Analysis-Grab-a-Popcorn/master/tmdb_5000_movies.csv"
#Reading the csv file from the URL
movies <- read_csv(url,col_names = TRUE,na = "NA")
View(movies)
movies <- movies[!duplicated(movies$title), ]
dim(movies)
#Takes in the dataframe and column name to be transformed
json_to_df <- function(df, column){
column_1 <- df[apply(df[,column],1,nchar)>2,]  #Checks if there is an entry
list_1 <- lapply(column_1[[column]], fromJSON) #Converts the JSON to a list
values <- data.frame(unlist(lapply(list_1, function(x) paste(x$name,collapse = ",")))) #Collapsing all the values of the list as a key value pair
final_df <- cbind(column_1$id, column_1$title, values) #new data frame with the key and values a s columns
names(final_df)  <- c("id", "title", column)
return(final_df)
}
View(movies)
#URL to read the data from
url <- "https://raw.githubusercontent.com/rengalv/Movies-Data-Analysis-Grab-a-Popcorn/master/tmdb_5000_movies.csv"
#Reading the csv file from the URL
movies <- read_csv(url,col_names = TRUE,na = "NA")
View(movies)
movies <- movies[!duplicated(movies$title), ]
dim(movies)
